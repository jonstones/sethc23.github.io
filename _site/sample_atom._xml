<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
 
 <title>sethc23</title>
 <link href="http://tom.preston-werner.com/atom.xml" rel="self"/>
 <link href="http://tom.preston-werner.com/"/>
 <updated>2016-03-07T02:56:31-05:00</updated>
 <id>http://tom.preston-werner.com/</id>
 <author>
   <name>Tom Preston-Werner</name>
   <email>tom@mojombo.com</email>
 </author>

 
 <entry>
   <title>Custom pgSQL Functions -- string_matching</title>
   <link href="http://tom.preston-werner.com/2015/09/22/z_string_matching-params/"/>
   <updated>2015-09-22T00:00:00-04:00</updated>
   <id>http://tom.preston-werner.com/2015/09/22/z_string_matching-params</id>
   <content type="html">&lt;h2 id=&quot;string_matching-qry_a-qry_b-params_as_json&quot;&gt;&lt;strong&gt;string_matching(&lt;em&gt;qry_a&lt;/em&gt;, &lt;em&gt;qry_b&lt;/em&gt;, &lt;em&gt;params_as_json&lt;/em&gt;)&lt;/strong&gt;&lt;/h2&gt;

&lt;p&gt;&lt;/br&gt;&lt;/p&gt;

&lt;h4 id=&quot;methodology&quot;&gt;&lt;u&gt;Methodology&lt;/u&gt;:&lt;/h4&gt;

&lt;blockquote&gt;
&lt;p&gt;For each &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt;, this function finds the best matching &lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt;. This function utilizes the &lt;a href=&quot;https://en.wikipedia.org/wiki/Jaro%E2%80%93Winkler_distance&quot;&gt;Jaro-Winkler algorithm&lt;/a&gt;, and provides additional fine-tuning paramitization for segmenting, sorting, partial matching, and ranking of all permutations therein.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;query-strings&quot;&gt;&lt;u&gt;Query Strings&lt;/u&gt;:&lt;/h4&gt;

&lt;p&gt;This function returns a number between 0 and 1 quantifying the similarity between the results of two &lt;em&gt;postgreSQL&lt;/em&gt; search queries.  The input queries &lt;code class=&quot;prettyprint&quot;&gt;qry_a&lt;/code&gt; and &lt;code class=&quot;prettyprint&quot;&gt;qry_b&lt;/code&gt; must designate the aliases (&lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt;, &lt;code class=&quot;prettyprint&quot;&gt;a_idx&lt;/code&gt;) and (&lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt;, &lt;code class=&quot;prettyprint&quot;&gt;b_idx&lt;/code&gt;), respectively. For example:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-PLpgSQL&quot; data-lang=&quot;PLpgSQL&quot;&gt;&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_test_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_test_1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;MARTHA&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;DWAYNE&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;DIXON&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;DUANE&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;MARHTA&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;DICKSONX&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;ARRAY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b_idx&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;DROP&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IF&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;EXISTS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_test_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_test_2&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AS&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b_str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;UNNEST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b_idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b_idx&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_test_1&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-PLpgSQL&quot; data-lang=&quot;PLpgSQL&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_matching&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT a_str a_str,a_idx a_idx FROM z_string_test_2&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT b_str b_str,b_idx b_idx FROM z_string_test_2&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;false&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: left;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;a_idx&lt;/th&gt;
      &lt;th&gt;a_str&lt;/th&gt;
      &lt;th&gt;jaro_score&lt;/th&gt;
      &lt;th&gt;b_str&lt;/th&gt;
      &lt;th&gt;b_idx&lt;/th&gt;
      &lt;th&gt;other_matches&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;MARTHA&lt;/td&gt;
      &lt;td&gt;0.94444444444444&lt;/td&gt;
      &lt;td&gt;MARHTA&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;{}&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;DWAYNE&lt;/td&gt;
      &lt;td&gt;0.82222222222222&lt;/td&gt;
      &lt;td&gt;DUANE&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;{}&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;DIXON&lt;/td&gt;
      &lt;td&gt;0.76666666666667&lt;/td&gt;
      &lt;td&gt;DICKSONX&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;{}&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;/br&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-PLpgSQL&quot; data-lang=&quot;PLpgSQL&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z_string_matching&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT UNNEST(a_str) a_str,UNNEST(a_idx) a_idx FROM z_string_test_1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;SELECT UNNEST(b_str) b_str,UNNEST(b_idx) b_idx FROM z_string_test_1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;div&gt;
&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;
  &lt;thead&gt;
    &lt;tr style=&quot;text-align: left;&quot;&gt;
      &lt;th&gt;&lt;/th&gt;
      &lt;th&gt;a_idx&lt;/th&gt;
      &lt;th&gt;a_str&lt;/th&gt;
      &lt;th&gt;jaro_score&lt;/th&gt;
      &lt;th&gt;b_str&lt;/th&gt;
      &lt;th&gt;b_idx&lt;/th&gt;
      &lt;th&gt;other_matches&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;th&gt;0&lt;/th&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;MARTHA&lt;/td&gt;
      &lt;td&gt;0.94444444444444&lt;/td&gt;
      &lt;td&gt;MARHTA&lt;/td&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;{}&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;1&lt;/th&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;DWAYNE&lt;/td&gt;
      &lt;td&gt;0.82222222222222&lt;/td&gt;
      &lt;td&gt;DUANE&lt;/td&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;{}&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th&gt;2&lt;/th&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;DIXON&lt;/td&gt;
      &lt;td&gt;0.76666666666667&lt;/td&gt;
      &lt;td&gt;DICKSONX&lt;/td&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;{}&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;

&lt;p&gt;&lt;/br&gt;
Of further note:  &lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;the Jaro-Winkler algorithm values first letter(s) matches &amp;gt;&amp;gt; last letter matches&lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;prettyprint&quot;&gt;jaro_score&lt;/code&gt; equals 0.0 where any string evaluated has a length less than 4 &lt;/li&gt;
&lt;li&gt;&lt;code class=&quot;prettyprint&quot;&gt;other_matches&lt;/code&gt; is the index (i.e., &lt;code class=&quot;prettyprint&quot;&gt;b_idx&lt;/code&gt;) of the other &lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt; matches having the same best jaro score&lt;/li&gt;
&lt;li&gt;avoid using &lt;strong&gt;&amp;quot;pllua_&amp;quot;&lt;/strong&gt; as a prefix for any alias relating to &lt;code class=&quot;prettyprint&quot;&gt;qry_a&lt;/code&gt; or &lt;code class=&quot;prettyprint&quot;&gt;qry_b&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;/br&gt;&lt;/p&gt;

&lt;h4 id=&quot;parameter-string&quot;&gt;&lt;u&gt;Parameter String&lt;/u&gt;:&lt;/h4&gt;

&lt;p&gt;The &lt;code class=&quot;prettyprint&quot;&gt;params_as_json&lt;/code&gt; argument is either:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;(a) the case-insensitive string &lt;strong&gt;&amp;quot;false&amp;quot;&lt;/strong&gt;, or,&lt;/li&gt;
&lt;li&gt;(b) a one dimensional JSON string.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;If a JSON string, it may comprise any combination of the below &lt;em&gt;Parameter List&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Some general points:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;all keys and values of &lt;code class=&quot;prettyprint&quot;&gt;params_as_json&lt;/code&gt; are strings enclosed with double quotes (and not two single quotes)&lt;/li&gt;
&lt;li&gt;all boolean values are case insensitive&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;PARAMETERS&lt;/em&gt;:
&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;first_match_only&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;: Upon finding a &lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt; match for a particular &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; given the input criteria, stop further processing re: &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; and return the first-matched &lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt;.  This option often works well in conjunction with minimal iterative steps and high-score conditions to quickly extract the easy matches and minimize the number of future, more arduous, steps.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[x] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;a_cols_as_prefix&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;&lt;sup id=&quot;fnref1&quot;&gt;&lt;a href=&quot;#fn1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;,
&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;a_cols_as_suffix&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;&lt;sup id=&quot;fnref1&quot;&gt;&lt;a href=&quot;#fn1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: Each of these parameters is a string split by a semi-colon and made into a list that defines additional return columns in &lt;code class=&quot;prettyprint&quot;&gt;qry_a&lt;/code&gt;.  The &lt;em&gt;prefix&lt;/em&gt; and &lt;em&gt;suffix&lt;/em&gt; parameters define what set of strings, and in what order, will be concatenated with the base return column (i.e., &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt;). The parameters &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt; and &lt;code class=&quot;prettyprint&quot;&gt;concat_str&lt;/code&gt; (described next) define how the string set will be split and joined, respectively, and then compared.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[x] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;concat_str&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;: This parameter defines what character set is used to combine string parts, if applicable.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;Default: &lt;code class=&quot;prettyprint&quot;&gt;&amp;quot; &amp;quot;&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;mark&gt;[x] implement&lt;/mark&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;:  This parameter defines what characters are used to split strings into segments, and is used by default to normalize string before comparison (see &lt;code class=&quot;prettyprint&quot;&gt;a_str_mod&lt;/code&gt; for more detail). This parameter, used in conjunction with &lt;code class=&quot;prettyprint&quot;&gt;a_str_mod&lt;/code&gt;, can operate as a regular expression substitute.&lt;sup id=&quot;fnref2&quot;&gt;&lt;a href=&quot;#fn2&quot; rel=&quot;footnote&quot;&gt;2&lt;/a&gt;&lt;/sup&gt; A semicolon (&lt;mark&gt;&amp;quot;;&amp;quot;&lt;/mark&gt;) marks a break point between segments of characters used to split a string (&lt;strong&gt;&amp;quot;splitting segment&amp;quot;&lt;/strong&gt; hereinafter).&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;Multiple criteria of any non-zero length may constitute a splitting segment.&lt;/li&gt;
&lt;li&gt;All splitting segment space(s) (e.g., &lt;mark&gt;&amp;quot;   ;  ; ;&amp;quot;&lt;/mark&gt;) must be at the beginning of &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Only single semi-colons can currently be used as splitting segments (e.g., &lt;mark&gt;&amp;quot;;;&amp;quot;&lt;/mark&gt;), and it must be put at the end of &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Default: &lt;mark&gt;&amp;quot; ;-;_;/;\;|;&amp;;;;&amp;quot;&lt;/mark&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[X] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;#string-manipulation-examples&quot;&gt;String Manipulation examples&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;a_str_mod&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;&lt;sup id=&quot;fnref1&quot;&gt;&lt;a href=&quot;#fn1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: this parameter designates an additional option for evaluating variations of the query input &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt;. &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Available options:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;&amp;quot;norm&amp;quot;&lt;/mark&gt; &lt;em&gt;or&lt;/em&gt; &lt;mark&gt;&amp;quot;&amp;quot;&lt;/mark&gt; &lt;em&gt;or&lt;/em&gt; (&lt;em&gt;undesignated&lt;/em&gt;) (&lt;strong&gt;Default&lt;/strong&gt;): By default, &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; and &lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt; are split by all splitting characters defined by &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt; and then concatenated with the value of &lt;code class=&quot;prettyprint&quot;&gt;concat_str&lt;/code&gt;.  This step effectively normalizes strings and usually allows for more consistent scoring.&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;&amp;quot;none&amp;quot;&lt;/mark&gt; &lt;em&gt;or&lt;/em&gt; &lt;mark&gt;&amp;quot;false&amp;quot;&lt;/mark&gt;:  These case-insensitive options disable the normalization step.&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;&amp;quot;iter&amp;quot;&lt;/mark&gt;: With this option, this function splits each &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; by &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt; and evaluates each segment therein. For example, where &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; equals &amp;quot;one-two-three&amp;quot;, this function will attempt to return the best match for all cases where &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; equals &amp;quot;one&amp;quot;, &amp;quot;two&amp;quot;, or &amp;quot;three&amp;quot; (assuming &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt; is &lt;mark&gt;&amp;quot;-&amp;quot;&lt;/mark&gt; or includes &lt;mark&gt;&amp;quot;-;&amp;quot;&lt;/mark&gt;).&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;&amp;quot;perm&amp;quot;&lt;/mark&gt;: Here, the function splits each &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; by &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt; and evaluates all permutations of segment arrangements.  For example, where &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; equals &amp;quot;one-two-three&amp;quot;, this function will attempt to return the best match for cases where &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; equals &amp;quot;two-one-three&amp;quot;, &amp;quot;three-one-two&amp;quot;, etc... (assuming &lt;code class=&quot;prettyprint&quot;&gt;div_str&lt;/code&gt; is &lt;mark&gt;&amp;quot;-&amp;quot;&lt;/mark&gt; or includes &lt;mark&gt;&amp;quot;-;&amp;quot;&lt;/mark&gt;).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[X] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;#string-permutation-examples&quot;&gt;String Permutation examples&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;a_str_condition&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;&lt;sup id=&quot;fnref1&quot;&gt;&lt;a href=&quot;#fn1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;: This parameter provides a mechanism for limiting the results of the input queries (e.g., &lt;code class=&quot;prettyprint&quot;&gt;qry_a&lt;/code&gt;) when the input queries return, that is, the result that this function then scores.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[x] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;a_idx_condition&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt; : When &lt;code class=&quot;prettyprint&quot;&gt;iter_a_str_perms&lt;/code&gt; equals &lt;strong&gt;&amp;quot;true&amp;quot;&lt;/strong&gt;, this condition is handy to minimize the iterations of &lt;code class=&quot;prettyprint&quot;&gt;a_str&lt;/code&gt; that are compared with every &lt;code class=&quot;prettyprint&quot;&gt;b_str&lt;/code&gt; result.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[x] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;u&gt;&lt;strong&gt;&lt;code class=&quot;prettyprint&quot;&gt;update_cond&lt;/code&gt;&lt;/strong&gt;&lt;/u&gt;:  This allows for fine-tuning when and what results are returned.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[x] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;h4 id=&quot;string-manipulation-examples&quot;&gt;&lt;u&gt;String Manipulation Examples&lt;/u&gt;:&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[ ] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;h4 id=&quot;string-permutation-examples&quot;&gt;&lt;u&gt;String Permutation Examples&lt;/u&gt;:&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[ ] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;h4 id=&quot;reference-to-related-functions&quot;&gt;&lt;u&gt;Reference to Related Functions&lt;/u&gt;:&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;string_matching_mgr&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[ ] implement&lt;/mark&gt;&lt;/li&gt;
&lt;li&gt;&lt;mark&gt;[ ] finish note&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;add-this-webpage-to-pgsql-function-comments&quot;&gt;&lt;u&gt;Add this webpage to pgSQL function comments&lt;/u&gt;:&lt;/h4&gt;

&lt;ul&gt;
&lt;li&gt;&lt;mark&gt;[ ] implement&lt;/mark&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;

&lt;li id=&quot;fn1&quot;&gt;
&lt;p&gt;This description relating to &lt;code class=&quot;prettyprint&quot;&gt;qry_a&lt;/code&gt; applies similarly to &lt;code class=&quot;prettyprint&quot;&gt;qry_b&lt;/code&gt;.&amp;nbsp;&lt;a href=&quot;#fnref1&quot; rev=&quot;footnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;

&lt;li id=&quot;fn2&quot;&gt;
&lt;p&gt;Lua regular expression &lt;a href=&quot;http://www.lua.org/manual/5.1/manual.html#5.4.1&quot;&gt;patterns&lt;/a&gt; are somewhat uncommon, and therefore, were not natively integrated.  For example, (1) &amp;quot;or&amp;quot; logic does not exist (or did not exist when developing), (2) matching patterns cannot be quantified (e.g., &amp;quot;{n,}&amp;quot;), and (3) there is no mechanism to capture the n-th string match where n&amp;gt;9.&amp;nbsp;&lt;a href=&quot;#fnref2&quot; rev=&quot;footnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;

&lt;/ol&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Test Markdown Features</title>
   <link href="http://tom.preston-werner.com/2015/09/20/test-for-markdown-features/"/>
   <updated>2015-09-20T00:00:00-04:00</updated>
   <id>http://tom.preston-werner.com/2015/09/20/test-for-markdown-features</id>
   <content type="html">&lt;h2 id=&quot;testing&quot;&gt;Testing&lt;/h2&gt;

&lt;p&gt;Is there any space between here and the above header?&lt;/p&gt;

&lt;h4 id=&quot;no_intra_emphasis&quot;&gt;no_intra_emphasis&lt;/h4&gt;

&lt;p&gt;emphasis &lt;u&gt;here&lt;/u&gt; and no_emphasis_here&lt;/p&gt;

&lt;h4 id=&quot;tables&quot;&gt;tables&lt;/h4&gt;

&lt;table&gt;&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;

&lt;h4 id=&quot;autolink&quot;&gt;autolink&lt;/h4&gt;

&lt;p&gt;whatismyip.com&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.dairyqueen.com&quot;&gt;www.dairyqueen.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://yesman.com&quot;&gt;http://yesman.com&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://www.sanspaper.com&quot;&gt;http://www.sanspaper.com&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;strikethrough&quot;&gt;strikethrough&lt;/h4&gt;

&lt;p&gt;this is &lt;del&gt;good&lt;/del&gt; bad&lt;/p&gt;

&lt;h4 id=&quot;superscript&quot;&gt;superscript&lt;/h4&gt;

&lt;p&gt;this is the 2&lt;sup&gt;nd&lt;/sup&gt; time&lt;/p&gt;

&lt;h4 id=&quot;underline&quot;&gt;underline&lt;/h4&gt;

&lt;p&gt;This is &lt;u&gt;underlined&lt;/u&gt; but this is still &lt;em&gt;italic&lt;/em&gt;.&lt;/p&gt;

&lt;h4 id=&quot;highlight&quot;&gt;highlight&lt;/h4&gt;

&lt;p&gt;This is &lt;mark&gt;highlighted&lt;/mark&gt;&lt;/p&gt;

&lt;h4 id=&quot;footnotes&quot;&gt;footnotes&lt;/h4&gt;

&lt;p&gt;For this comment&lt;sup id=&quot;fnref1&quot;&gt;&lt;a href=&quot;#fn1&quot; rel=&quot;footnote&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;h4 id=&quot;prettify&quot;&gt;Prettify&lt;/h4&gt;

&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;local t = _tbl.table_invert(tbl_in)
 local cnt = 1
 for k,v in pairs(t) do
 if v == _var then return cnt
 else cnt = cnt + 1 end
 end&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;code&gt; local t = _tbl.table_invert(tbl_in) local cnt = 1 for k,v in pairs(t) do if v == _var then return cnt else cnt = cnt + 1 end end &lt;/code&gt;&lt;/p&gt;

&lt;h4 id=&quot;with_toc_data&quot;&gt;with_toc_data&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;#Testing&quot;&gt;Does this bring you back to the top?&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Features by Redcarpet; hosted @ Git Pages&lt;/p&gt;

&lt;div class=&quot;footnotes&quot;&gt;
&lt;hr&gt;
&lt;ol&gt;

&lt;li id=&quot;fn1&quot;&gt;
&lt;p&gt;Here is a footnote.&amp;nbsp;&lt;a href=&quot;#fnref1&quot; rev=&quot;footnote&quot;&gt;&amp;#8617;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;

&lt;/ol&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Interactive-Debugging of PL/Python</title>
   <link href="http://tom.preston-werner.com/2015/09/20/interactively_debugging_plpython/"/>
   <updated>2015-09-20T00:00:00-04:00</updated>
   <id>http://tom.preston-werner.com/2015/09/20/interactively_debugging_plpython</id>
   <content type="html">&lt;h4 id=&quot;use-an-ide-pycharm-wingide-eclipse-etc&quot;&gt;Use an IDE (PyCharm, WingIDE, Eclipse, etc..):&lt;/h4&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;sys&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;/usr/local/lib/python2.7/dist-packages/pycharm-debug.egg&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pydevd&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pydevd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;settrace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;10.0.1.53&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50003&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stdoutToServer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stderrToServer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h4 id=&quot;ipython-and-ipdb&quot;&gt;iPython and ipdb&lt;/h4&gt;

&lt;h6 id=&quot;embed-ipython-kernel-in-script-e-g-immediately-preceeding-a-function-f-x&quot;&gt;Embed iPython kernel in script (e.g., immediately preceeding a function &lt;code class=&quot;prettyprint&quot;&gt;f(x)&lt;/code&gt;):&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;IPython&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;I&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;embed_kernel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;put-ipdb-tracer-s-after-the-kernel-call-i-e-inside-of-f-x&quot;&gt;Put ipdb tracer(s) after the kernel call (i.e., inside of &lt;code class=&quot;prettyprint&quot;&gt;f(x)&lt;/code&gt;):&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;ipdb&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ipdb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set_trace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;execute-pl-pythonu-python-code&quot;&gt;Execute PL/Pythonu/Python code:&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-PLpgSQL&quot; data-lang=&quot;PLpgSQL&quot;&gt;&lt;span class=&quot;k&quot;&gt;DO&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;LANGUAGE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PLPYTHONU&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;$BODY$&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;import sys&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;sys.path.append(&amp;#39;/home/ubuntu/tmp.py&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;import tmp&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;reload(tmp)             # resets pgsql cache&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;tmp.do_something(plpy)  # note plpy as arg&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;$BODY$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;if-executing-the-above-via-command-line-e-g-sqlalchemy-pandas-etc-standard-out-may-provide-the-quot-connect-with-existing-kernel-kernel-pid-json-quot-ipython-message-if-not-check-the-newest-ipython-process-ps-awx-grep-ipython-or-check-the-directory-below-or-a-similar-path&quot;&gt;If executing the above via command-line (e.g., sqlalchemy, pandas, etc..),standard out may provide the &amp;quot;...connect with --existing kernel-{&lt;em&gt;kernel pid&lt;/em&gt;}.json&amp;quot; iPython message.  If not, check the newest iPython process &lt;code class=&quot;prettyprint&quot;&gt;ps -awx | grep ipython&lt;/code&gt;, or check the directory below (or a similar path).&lt;/h6&gt;

&lt;h6 id=&quot;connect-to-the-kernel&quot;&gt;Connect to the kernel:&lt;/h6&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo su postgres
&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /var/lib/postgresql/.local/share/jupyter/runtime
&lt;span class=&quot;c&quot;&gt;# last bit below assumes a clean runtime directory&lt;/span&gt;
ipython console --existing kernel-* &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; rm *
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h6 id=&quot;call-the-f-x&quot;&gt;Call the &lt;code class=&quot;prettyprint&quot;&gt;f(x)&lt;/code&gt;.&lt;/h6&gt;
</content>
 </entry>
 
 <entry>
   <title>How Lua compares with Object-Oriented languages like Python</title>
   <link href="http://tom.preston-werner.com/2015/09/18/basic_difference_between_lua_and_python/"/>
   <updated>2015-09-18T00:00:00-04:00</updated>
   <id>http://tom.preston-werner.com/2015/09/18/basic_difference_between_lua_and_python</id>
   <content type="html">&lt;h4 id=&quot;the-essence-of-lua&quot;&gt;&lt;a href=&quot;http://www.lua.org/pil/16.html&quot;&gt;The essence of Lua&lt;/a&gt;:&lt;/h4&gt;

&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;A table in Lua is an object in more than one sense. Like objects, tables have a state. Like objects, tables have an identity (a selfness) that is independent of their values; specifically, two objects (tables) with the same value are different objects, whereas an object can have different values at different times, but it is always the same object.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;p&gt;More than convenience?&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Account&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;withdraw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withdraw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;100.00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Account&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withdraw&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;withdraw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;100.00&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h4 id=&quot;tables-are-class-objects-with-metadata&quot;&gt;Tables are &lt;a href=&quot;http://www.lua.org/pil/16.1.html&quot;&gt;&lt;em&gt;class objects with metadata&lt;/em&gt;&lt;/a&gt;:&lt;/h4&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},{}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;passes objects&amp;quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;setmetatable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;--&amp;gt;  &amp;quot;passes objects&amp;quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;forwards&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;            &lt;span class=&quot;c1&quot;&gt;--&amp;gt;  &amp;quot;forwards&amp;quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;NOT backwards&amp;quot;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;3&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;          &lt;span class=&quot;c1&quot;&gt;--&amp;gt;  nil&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;After that[ assignment with &lt;code class=&quot;prettyprint&quot;&gt;setmetatable&lt;/code&gt;], &lt;code class=&quot;prettyprint&quot;&gt;a&lt;/code&gt; looks up in &lt;code class=&quot;prettyprint&quot;&gt;b&lt;/code&gt; for any operation that it does not have. To see &lt;code class=&quot;prettyprint&quot;&gt;b&lt;/code&gt; as the class of object &lt;code class=&quot;prettyprint&quot;&gt;a&lt;/code&gt; is not much more than a change in terminology.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;

&lt;hr&gt;

&lt;h4 id=&quot;a-benefit&quot;&gt;A Benefit&lt;/h4&gt;

&lt;p&gt;For example, an object invoking this class:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Account&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;             &lt;span class=&quot;c1&quot;&gt;-- create object if user does not provide one&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;setmetatable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;   &lt;span class=&quot;c1&quot;&gt;-- i.e., setmetatable(object, add_a_class)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;o&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;also &lt;a href=&quot;http://www.lua.org/pil/16.2.html&quot;&gt;inherits &lt;em&gt;other &lt;u&gt;methods&lt;/u&gt;&lt;/em&gt; from that class&lt;/a&gt;, i.e.,&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Account&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;    &lt;span class=&quot;c1&quot;&gt;--&amp;gt; 0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h4 id=&quot;a-cost&quot;&gt;A Cost&lt;/h4&gt;

&lt;p&gt;&lt;a href=&quot;http://www.lua.org/pil/16.3.html&quot;&gt;Multiple inheritance&lt;/a&gt; can increase access-overhead, but, tricks like below short-circuit access points and keep costs low:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;nb&quot;&gt;setmetatable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;       &lt;span class=&quot;c1&quot;&gt;-- save for next access&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h4 id=&quot;benchmarks&quot;&gt;&lt;a href=&quot;http://lua-users.org/wiki/ObjectBenchmarkTests&quot;&gt;Benchmarks&lt;/a&gt;&lt;/h4&gt;

&lt;p&gt;After direct access, &lt;a href=&quot;http://www.lua.org/pil/16.4.html&quot;&gt;no-self-style implementations&lt;/a&gt; are fastest:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-lua&quot; data-lang=&quot;lua&quot;&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;newAccount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;initialBalance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;initialBalance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withdraw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
                     &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deposit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;local&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getBalance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;balance&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;withdraw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;withdraw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;deposit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;deposit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;getBalance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getBalance&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Welcome to Jekyll!</title>
   <link href="http://tom.preston-werner.com/2015/09/15/2015-09-15-welcome-to-jekyll/"/>
   <updated>2015-09-15T16:00:19-04:00</updated>
   <id>http://tom.preston-werner.com/2015/09/15/2015-09-15-welcome-to-jekyll</id>
   <content type="html">&lt;p&gt;You’ll find this post in your &lt;code class=&quot;prettyprint&quot;&gt;_posts&lt;/code&gt; directory. Go ahead and edit it and re-build the site to see your changes. You can rebuild the site in many different ways, but the most common way is to run &lt;code class=&quot;prettyprint&quot;&gt;jekyll serve&lt;/code&gt;, which launches a web server and auto-regenerates your site when a file is updated.&lt;/p&gt;

&lt;p&gt;To add new posts, simply add a file in the &lt;code class=&quot;prettyprint&quot;&gt;_posts&lt;/code&gt; directory that follows the convention &lt;code class=&quot;prettyprint&quot;&gt;YYYY-MM-DD-name-of-post.ext&lt;/code&gt; and includes the necessary front matter. Take a look at the source for this post to get an idea about how it works.&lt;/p&gt;

&lt;p&gt;Jekyll also offers powerful support for code snippets:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Hi, &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print_hi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Tom&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#=&amp;gt; prints &amp;#39;Hi, Tom&amp;#39; to STDOUT.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check out the &lt;a href=&quot;http://jekyllrb.com&quot;&gt;Jekyll docs&lt;/a&gt; for more info on how to get the most out of Jekyll. File all bugs/feature requests at &lt;a href=&quot;https://github.com/jekyll/jekyll&quot;&gt;Jekyll’s GitHub repo&lt;/a&gt;. If you have questions, you can ask them on &lt;a href=&quot;https://github.com/jekyll/jekyll-help&quot;&gt;Jekyll’s dedicated Help repository&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting Started with Git Pages</title>
   <link href="http://tom.preston-werner.com/2015/09/15/2015-09-15-getting-started-with-git-pages/"/>
   <updated>2015-09-15T16:00:19-04:00</updated>
   <id>http://tom.preston-werner.com/2015/09/15/2015-09-15-getting-started-with-git-pages</id>
   <content type="html">&lt;h2 id=&quot;installing-framework&quot;&gt;Installing Framework&lt;/h2&gt;

&lt;p&gt;First, see Jekyll &lt;a href=&quot;http://jekyllrb.com/docs/installation/&quot;&gt;installation pages&lt;/a&gt; for latest dependecies,
but, latest ruby developer install could be sufficient.&lt;/p&gt;

&lt;p&gt;Then,&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo gem install github-pages
sudo gem install bundler

&lt;span class=&quot;c&quot;&gt;# and for maintaining framework:&lt;/span&gt;
bundle update&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;create-user-page&quot;&gt;Create User Page&lt;/h2&gt;

&lt;p&gt;First, follow these &lt;a href=&quot;https://pages.github.com/&quot;&gt;5 steps&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Then, from within the user repo directory:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;github-pages br master &amp;gt; Gemfile
sudo bundle install

jekyll new ./tmp
mv tmp/* ./
mv tmp/.* ./ &amp;gt; /dev/null 2&amp;gt;&lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;1
rmdir tmp

git add -- .
git commit -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;generated default jekyll site&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This user page (sethc23) further includes &lt;a href=&quot;http://pastebin.com/35HpR8Fa&quot;&gt;these changes&lt;/a&gt; to the default jekyll site.&lt;/p&gt;

&lt;h2 id=&quot;create-project-pages&quot;&gt;Create Project Pages&lt;/h2&gt;

&lt;p&gt;Assuming:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;project location (_dir) = /home/user/projectA
  branch for publication --&amp;gt; master
  and, &amp;quot;On branch master nothing to commit, working directory clean&amp;quot;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The following should integrate a project page within a github user&amp;#39;s page:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;_dir
git checkout master

&lt;span class=&quot;nv&quot;&gt;r_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;git remote -v &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    grep ^github &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; head -n &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    cut -f2 &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sed -r &lt;span class=&quot;s1&quot;&gt;&amp;#39;s/\.git\s.*$//g&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    cut -d/ -f2&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;r_user&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;git config --get github.user&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;r_email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;git config --get user.email&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;r_info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo &lt;/span&gt;https://api.github.com/repos/&lt;span class=&quot;nv&quot;&gt;$r_user&lt;/span&gt;/&lt;span class=&quot;nv&quot;&gt;$r_name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; xargs curl -s --&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# not so easy to pipe output into variable but this should work!&lt;/span&gt;
assign&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;  &lt;span class=&quot;nb&quot;&gt;eval&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$1=\$(cat; echo .); $1=\${$1%.}&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
assign r_description &amp;lt; &amp;lt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$r_info&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; python -mjson.tool &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    grep -Po --color&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;never &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;description&amp;quot;:.*?[^\\]&amp;quot;,&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    grep -Po &lt;span class=&quot;s1&quot;&gt;&amp;#39;([\&amp;quot;])(\\?.)*?\1&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; tail -n &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
    sed -r &lt;span class=&quot;s1&quot;&gt;&amp;#39;s/^.//;s/.$//&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# create package config&lt;/span&gt;
github-pages br master &amp;gt; Gemfile

&lt;span class=&quot;c&quot;&gt;# create project config file&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;title: &amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$r_name&lt;/span&gt; &amp;gt; _config.yml
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;email: &amp;quot;&lt;/span&gt;r_email &amp;gt;&amp;gt; _config.yml
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;description: &amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$r_description&lt;/span&gt; &amp;gt;&amp;gt; _config.yml
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;baseurl: &amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$r_name&lt;/span&gt; &amp;gt;&amp;gt; _config.yml
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;url: http://&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$r_name&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;.github.io&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; _config.yml
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;github_username: &amp;quot;&lt;/span&gt;r_user &amp;gt;&amp;gt; _config.yml
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;markdown: kramdown&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; _config.yml

&lt;span class=&quot;c&quot;&gt;# store config files elsewhere temporarily&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;tmp_dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;tmp_&amp;quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$r_name&lt;/span&gt;
mkdir &lt;span class=&quot;nv&quot;&gt;$tmp_dir&lt;/span&gt;
mv _config.yml &lt;span class=&quot;nv&quot;&gt;$tmp_dir&lt;/span&gt;/
mv Gemfile &lt;span class=&quot;nv&quot;&gt;$tmp_dir&lt;/span&gt;/
mv &lt;span class=&quot;nv&quot;&gt;$tmp_dir&lt;/span&gt; /tmp/

&lt;span class=&quot;c&quot;&gt;# make github pages project template&lt;/span&gt;
git checkout -b gh-pages
rm -fr ./*
mkdir tmp
mv .git* ./tmp
rm -fr ./.*
mv /tmp/.git* ./
rmdir tmp
git add .
git commit -m &lt;span class=&quot;s2&quot;&gt;&amp;quot;cleaned slate for web page(s)&amp;quot;&lt;/span&gt;
jekyll new .
mv /tmp/&lt;span class=&quot;nv&quot;&gt;$tmp_dir&lt;/span&gt;/* ./
rmdir &lt;span class=&quot;nv&quot;&gt;$tmp_dir&lt;/span&gt;
git add .
git commit -m &lt;span class=&quot;s2&quot;&gt;&amp;quot;adding default jekyll content&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Locally host content with:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo bundle install
bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll serve --baseurl &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; --port 4000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;and preview at: &lt;a href=&quot;http://localhost:4000&quot;&gt;http://localhost:4000&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Before final push/publication:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;github-pages health-check&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 
</feed>